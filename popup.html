<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>You Just Had It</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        width: 450px;
        height: 600px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: #f8f9fa;
        color: #202124;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .header h1 {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .header p {
        font-size: 13px;
        opacity: 0.9;
      }

      .search-container {
        padding: 16px;
        background: white;
        border-bottom: 1px solid #e0e0e0;
      }

      .search-box {
        position: relative;
      }

      .search-icon {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: #5f6368;
        font-size: 18px;
      }

      #searchInput {
        width: 100%;
        padding: 12px 12px 12px 40px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 14px;
        outline: none;
        transition: border-color 0.2s;
      }

      #searchInput:focus {
        border-color: #667eea;
      }

      .filters {
        margin-top: 12px;
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .filter-btn {
        padding: 6px 12px;
        background: #f1f3f4;
        border: none;
        border-radius: 16px;
        font-size: 12px;
        cursor: pointer;
        transition: background 0.2s;
      }

      .filter-btn:hover {
        background: #e8eaed;
      }

      .filter-btn.active {
        background: #667eea;
        color: white;
      }

      .stats {
        padding: 12px 16px;
        background: white;
        border-bottom: 1px solid #e0e0e0;
        font-size: 13px;
        color: #5f6368;
      }

      .results {
        height: 380px;
        overflow-y: auto;
        padding: 8px;
      }

      .result-item {
        background: white;
        border-radius: 8px;
        padding: 12px;
        margin-bottom: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.2s;
        position: relative;
      }

      .result-item:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .result-header {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        margin-bottom: 8px;
      }

      .result-favicon {
        width: 20px;
        height: 20px;
        border-radius: 4px;
        flex-shrink: 0;
        margin-top: 2px;
      }

      .result-content {
        flex: 1;
        min-width: 0;
      }

      .result-title {
        font-size: 14px;
        font-weight: 600;
        color: #202124;
        margin-bottom: 4px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        cursor: pointer;
      }

      .result-title:hover {
        color: #667eea;
      }

      .result-meta {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: #5f6368;
        margin-bottom: 6px;
        flex-wrap: wrap;
      }

      .result-domain {
        color: #667eea;
        font-weight: 500;
      }

      .result-badge {
        background: #e8f0fe;
        color: #1967d2;
        padding: 2px 8px;
        border-radius: 10px;
        font-size: 11px;
        font-weight: 500;
      }

      .visit-badge {
        background: #fef7cd;
        color: #9a6700;
        padding: 2px 8px;
        border-radius: 10px;
        font-size: 11px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .result-description {
        font-size: 13px;
        color: #5f6368;
        line-height: 1.4;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        margin-bottom: 8px;
      }

      .result-preview {
        font-size: 12px;
        color: #80868b;
        line-height: 1.5;
        padding: 8px;
        background: #f8f9fa;
        border-radius: 4px;
        margin-top: 8px;
        max-height: 100px;
        overflow-y: auto;
        display: none;
      }

      .result-preview.expanded {
        display: block;
      }

      .result-actions {
        display: flex;
        gap: 8px;
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px solid #f1f3f4;
      }

      .action-btn {
        padding: 6px 12px;
        background: #f1f3f4;
        border: none;
        border-radius: 6px;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .action-btn:hover {
        background: #e8eaed;
      }

      .action-btn.primary {
        background: #667eea;
        color: white;
      }

      .action-btn.primary:hover {
        background: #5568d3;
      }

      .action-btn.danger {
        background: #fce8e6;
        color: #c5221f;
      }

      .action-btn.danger:hover {
        background: #fad2cf;
      }

      .action-btn.preview-btn {
        background: #e8f0fe;
        color: #1967d2;
      }

      .action-btn.preview-btn:hover {
        background: #d2e3fc;
      }

      .action-btn.preview-btn.active {
        background: #1967d2;
        color: white;
      }

      .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: #5f6368;
      }

      .empty-state-icon {
        font-size: 48px;
        margin-bottom: 16px;
        opacity: 0.3;
      }

      .empty-state h3 {
        font-size: 16px;
        margin-bottom: 8px;
        color: #202124;
      }

      .empty-state p {
        font-size: 13px;
        line-height: 1.5;
      }

      .footer {
        padding: 12px 16px;
        background: white;
        border-top: 1px solid #e0e0e0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .footer-btn {
        color: #667eea;
        font-size: 12px;
        text-decoration: none;
        cursor: pointer;
        background: none;
        border: none;
        padding: 4px 8px;
        border-radius: 4px;
        transition: background 0.2s;
      }

      .footer-btn:hover {
        background: #f1f3f4;
      }

      .footer-btn.danger {
        color: #c5221f;
      }

      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f3f4;
      }

      ::-webkit-scrollbar-thumb {
        background: #dadce0;
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #bdc1c6;
      }

      .highlight {
        background: #fef7cd;
        padding: 1px 2px;
        border-radius: 2px;
      }

      /* Modal styles */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }

      .modal-overlay.active {
        display: flex;
      }

      .modal {
        background: white;
        border-radius: 8px;
        padding: 20px;
        max-width: 90%;
        max-height: 80%;
        overflow-y: auto;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .modal-title {
        font-size: 16px;
        font-weight: 600;
      }

      .modal-close {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #5f6368;
        padding: 0;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-close:hover {
        background: #f1f3f4;
      }

      .modal-content {
        font-size: 13px;
        line-height: 1.6;
        color: #202124;
      }

      .modal-actions {
        display: flex;
        gap: 8px;
        margin-top: 16px;
        justify-content: flex-end;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>You Just Had It</h1>
      <p>Search your browsing history intelligently</p>
    </div>

    <div class="search-container">
      <div class="search-box">
        <span class="search-icon">üîç</span>
        <input
          type="text"
          id="searchInput"
          placeholder="Search pages, content, or URLs..."
          autofocus
        />
      </div>

      <div class="filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="youtube">YouTube</button>
        <button class="filter-btn" data-filter="twitter">Twitter</button>
        <button class="filter-btn" data-filter="web">Articles</button>
      </div>
    </div>

    <div class="stats">
      <span id="statsText">Loading...</span>
    </div>

    <div class="results" id="results">
      <div class="empty-state">
        <div class="empty-state-icon">üìö</div>
        <h3>Start Browsing</h3>
        <p>
          Visit websites for more than 5 seconds and they'll automatically
          appear here. Try it out!
        </p>
      </div>
    </div>

    <div class="footer">
      <button class="footer-btn" id="exportData">üì• Export Data</button>
      <button class="footer-btn" id="openSettings">‚öôÔ∏è Settings</button>
      <button class="footer-btn danger" id="clearAll">üóëÔ∏è Clear All</button>
    </div>

    <!-- Modal for content preview -->
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title" id="modalTitle">Page Content</h3>
          <button class="modal-close" id="modalClose">√ó</button>
        </div>
        <div class="modal-content" id="modalContent"></div>
        <div class="modal-actions">
          <button class="action-btn primary" id="modalOpen">Open Page</button>
          <button class="action-btn" id="modalCloseBtn">Close</button>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
